#!/usr/bin/env bash
_script="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
_base="$(dirname $(dirname ${_script}))"

VERSION=$(cat ${_base}/VERSION)

if [ "$#" -ne 0 ];
then
  :
else
  printf "Requires args, run radon -h\n";
  exit 1;
fi

for arg in $@
do
    case $arg in
        $0) ;;
        '-h' | '--help' | '-?' | '--usage') printf """
Radon
usage:
    radon [args] <File.radon>
    (executes blackrose generated bytecode in Radon VM)

Arguments:
    -h, --help, -?, --usage              : Prints this help and exits
    \n""" && exit 0;;
        *)  if [ -f "$arg" ]; then
                ${_base}/RadonVM/target/release/radon ${arg}
            else
                printf "$arg is not an existing file.\n" && exit 1
            fi;;
    esac
done
